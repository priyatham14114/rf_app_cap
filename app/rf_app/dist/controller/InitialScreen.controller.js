sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/Device"],function(e,t){"use strict";return e.extend("com.app.rfapp.controller.InitialScreen",{onInit:function(){this.loadConfiguredSystems()},onDevButtonPress:async function(){this.LoadSapLogon()},onsapCancelPress:function(){this.oConfigSap.close()},onProdButtonPress:function(){this.LoadSapLogon()},onEnvButtonPress:function(){this.LoadSapLogon()},LoadSapLogon:async function(){this.oConfigSap??=await this.loadFragment({name:"com.app.rfapp.fragments.SapLogon"});this.oConfigSap.open()},handleLinksapPress:async function(){this.oConnetSap??=await this.loadFragment({name:"com.app.rfapp.fragments.ConnecttoSAP"});this.oConnetSap.open()},onCloseconnectsap:function(){this.oConnetSap.close()},onsapsubmitPress:function(){var e=this.getView().byId("idsaplogonUserId").getValue();var t=this.getView().byId("idSapLogonPassword").getValue();if(e==="111010"&&t==="ARTIHCUS"){this.getOwnerComponent().getRouter().navTo("Homepage",{id:e})}this.onUserLogin()},onUserLogin:function(){this.getView().byId("idsaplogonUserId").setValue();this.getView().byId("idSapLogonPassword").setValue()},onClearconnectsapDialog:function(){this.getView().byId("idDescriptionInput").setValue();this.getView().byId("idSystemIdInput").setValue();this.getView().byId("idInstanceNumberInput").setValue();this.getView().byId("idApplicationServerInput").setValue();this.getView().byId("idClientInput").setValue();this.getView().byId("idServiceInput").setValue()},onsaveconnectSAPPress:function(){var e=this.getView();var t=e.byId("idconnectsapdialog");var n=e.byId("idDescriptionInput").getValue();var s=e.byId("idSystemIdInput").getValue();if(!n||!s){MessageToast.show("Please enter required fields.");return}var o=e.byId("environmentButtonsHBox");var i=new sap.m.Button({text:n+" ("+s+")",type:"Emphasized",width:"11rem",press:function(){this.onConfiguredSystemPress(i,n,s)}.bind(this)});var a=new sap.m.Button({icon:"sap-icon://delete",tooltip:"Delete",type:"Reject",press:function(){this.onDeleteConfiguredSystem(i,n,s)}.bind(this)});var r=new sap.m.HBox({items:[i,a]});o.insertItem(r,o.indexOfItem(e.byId("_IDCofiguresapLink")));this.saveConfiguredSystem(n,s);t.close()},saveConfiguredSystem:function(e,t){var n=JSON.parse(localStorage.getItem("configuredSystems"))||[];n.push({description:e,systemId:t});localStorage.setItem("configuredSystems",JSON.stringify(n))},loadConfiguredSystems:function(){var e=JSON.parse(localStorage.getItem("configuredSystems"))||[];var t=this.getView().byId("environmentButtonsHBox");e.forEach(function(e){var n=new sap.m.Button({text:e.description+" ("+e.systemId+")",type:"Emphasized",width:"11rem"});n.attachPress(this.onConfiguredSystemPress.bind(this,e.description,e.systemId));var s=this.getView().byId("_IDCofiguresapLink");t.insertItem(n,t.indexOfItem(s))},this)},onConfiguredSystemPress:function(e,t){this.LoadSapLogon()},onCloseconnectsap:function(){var e=this.getView().byId("idconnectsapdialog");e.close()},onDeleteConfiguredSystem:function(e,t,n){var s=this.getView().byId("environmentButtonsHBox");s.removeItem(e.getParent());this.removeConfiguredSystem(t,n)},removeConfiguredSystem:function(e,t){var n=JSON.parse(localStorage.getItem("configuredSystems"))||[];n=n.filter(function(n){return!(n.description===e&&n.systemId===t)});localStorage.setItem("configuredSystems",JSON.stringify(n))}})});
//# sourceMappingURL=InitialScreen.controller.js.map