sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/Device","sap/ui/model/json/JSONModel","sap/m/Popover","sap/m/Button","sap/m/library","sap/m/MessageToast"],function(e,t,o,a,i,n,s){"use strict";return e.extend("com.app.rfapp.controller.ResourcePage",{onInit:function(){const e=this.getOwnerComponent().getRouter();var t=new o;this.getView().setModel(t);t.loadData(sap.ui.require.toUrl("com/app/rfapp/model/data.json"));t.attachRequestCompleted(function(e){if(!e.getParameter("success")){s.show("Failed to load data.")}}.bind(this));e.attachRoutePatternMatched(this.onResourceDetailsLoad,this)},onResourceDetailsLoad:async function(e){debugger;const{id:t}=e.getParameter("arguments");this.ID=t;console.log(this.ID);var o=this.getView().getModel();var a=this.getOwnerComponent().getModel();await a.read("/RESOURCESSet('"+this.ID+"')",{success:function(e){var t=e.Area;var a=t.split(",").map(e=>e.trim());var i=e.Resourcegroup;var n=i.split(",").map(e=>e.trim());var s=e.Queue;var r=o.getProperty("/navigation");r.forEach(function(e){var t=false;a.forEach(function(o){var a=`${o} Process`;if(e.title===a){e.visible=true;t=true}});if(!t){e.visible=false}e.items.forEach(function(t){if(n.includes(t.title)&&e.visible){t.visible=true}else{t.visible=false}})});o.setProperty("/navigation",r)}.bind(this),error:function(){s.show("User does not exist")}})},onItemSelect:function(e){var t=e.getParameter("item");this.byId("pageContainer1").to(this.getView().createId(t.getKey()))},handleUserNamePress:function(e){var t=new a({showHeader:false,placement:PlacementType.Bottom,content:[new i({text:"Feedback",type:ButtonType.Transparent}),new i({text:"Help",type:ButtonType.Transparent}),new i({text:"Logout",type:ButtonType.Transparent})]}).addStyleClass("sapMOTAPopover sapTntToolHeaderPopover");t.openBy(e.getSource())},onSideNavButtonPress:function(){var e=this.byId("toolPage");var t=e.getSideExpanded();this._setToggleButtonTooltip(t);e.setSideExpanded(!e.getSideExpanded())},_setToggleButtonTooltip:function(e){var t=this.byId("sideNavigationToggleButton");if(e){t.setTooltip("Large Size Navigation")}else{t.setTooltip("Small Size Navigation")}},onPutawayByHU:function(){var e=UIComponent.getRouterFor(this);e.navTo("RoutePutawayByHU")}})});
//# sourceMappingURL=ResourcePage.controller.js.map